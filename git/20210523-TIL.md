# 20210523 TIL

- 토이 프로젝트의 이슈 문제<br>
연속해서 keydwon 이벤트 발생 시 'key-hit' class가 remove되지 않고 add되어 있는 상태로 남아있다.<br>
firefox에서도 개발자 도구를 켜서 해당 element를 보는 상태에서는 똑같이 remove되지 않는 상황이 발생한다. 결국 한번에 많은 이벤트 발생으로 인해 생기는 버그라고 생각된다. `throttle`을 사용한다면 해결되지 않을까?
---
`throttle`을 사용해서 문제가 해결된 줄 알았다. 하지만 코드를 수정하는 과정에서 `keydown`이벤트가 중복으로 쓰이는 부분을 하나로 줄이면서, `throttle`을 사용함에도 불구하고 원래 이슈로 돌아왔다. `throttle`로 해결할 수 있는 문제가 아닌 것 같다. 이 이슈에 대해 의심이 되는 부분이 하나 더 있는데, `keydown`이벤트가 발생했을 때, `transitionend`이벤트가 같이 발생하는데, 이 부분에서도 문제가 생길 수 있을 것 같다. `transitionend`이벤트 대신, CSS에서 애니메이션으로 효과를 줘서 이벤트를 줄여봐야겠다.
